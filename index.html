<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conservative Pairs Trading | PBL 2026</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600;700&family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,600;0,700;1,300&display=swap');

        :root {
            --bg-primary: #0a0b0e;
            --bg-secondary: #0d0f14;
            --bg-panel: #0f1219;
            --bg-card: #121621;
            --border: #1e2433;
            --border-bright: #252d3d;
            --accent-green: #00d68f;
            --accent-amber: #f5a623;
            --accent-blue: #4a9eff;
            --accent-red: #ff4757;
            --accent-purple: #a855f7;
            --text-primary: #c8d6e5;
            --text-secondary: #6b7fa3;
            --text-dim: #3d4f6b;
            --text-bright: #e8f0fd;
            --terminal-green: #00ff88;
            --terminal-amber: #ffb800;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: hidden;
        }

        /* Scanline overlay */
        body::after {
            content: '';
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0,0,0,0.08) 2px,
                rgba(0,0,0,0.08) 4px
            );
            pointer-events: none;
            z-index: 9999;
        }

        /* NAV */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 100;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-bright);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            height: 48px;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .nav-logo {
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 700;
            font-size: 14px;
            color: var(--terminal-amber);
            letter-spacing: 0.08em;
            border: 1px solid var(--terminal-amber);
            padding: 3px 8px;
        }

        .nav-subtitle {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            color: var(--text-secondary);
            letter-spacing: 0.15em;
            text-transform: uppercase;
        }

        .nav-links {
            display: flex;
            gap: 0;
            list-style: none;
        }

        .nav-links a {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0 16px;
            height: 48px;
            display: flex;
            align-items: center;
            border-left: 1px solid var(--border);
            transition: all 0.2s;
        }

        .nav-links a:hover { color: var(--accent-green); background: rgba(0,214,143,0.04); }

        /* TIMER */
        #timerContainer {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 200;
            background: var(--bg-card);
            border: 1px solid var(--border-bright);
            border-left: 3px solid var(--accent-green);
            border-radius: 14px;
            padding: 12px 22px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        #displayTime {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 22px;
            font-weight: 700;
            color: var(--accent-green);
            letter-spacing: 0.1em;
        }

        .timer-warning { border-left-color: var(--terminal-amber) !important; }
        .timer-warning #displayTime { color: var(--terminal-amber) !important; }
        .timer-stop { border-left-color: var(--accent-red) !important; }
        .timer-stop #displayTime { color: var(--accent-red) !important; }

        /* MAIN */
        main {
            max-width: 1280px;
            margin: 0 auto;
            padding: 80px 32px 80px;
        }

        /* SECTION HEADER */
        .section-label {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--text-secondary);
            border-left: 2px solid var(--accent-amber);
            padding-left: 10px;
            margin-bottom: 6px;
        }

        .section-title {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 20px;
            font-weight: 700;
            color: var(--text-bright);
            letter-spacing: -0.01em;
            margin-bottom: 24px;
        }

        /* HERO */
        .hero {
            border: 1px solid var(--border-bright);
            border-radius: 28px;
            background: var(--bg-panel);
            padding: 52px 56px;
            margin-bottom: 16px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0; right: 0;
            width: 300px; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,214,143,0.03));
        }

        .hero-tag {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 0.2em;
            color: var(--accent-green);
            text-transform: uppercase;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 24px;
            border: 1px solid rgba(0,214,143,0.3);
            border-radius: 100px;
            padding: 6px 16px;
        }

        .live-dot {
            width: 6px; height: 6px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: blink 1.4s ease-in-out infinite;
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }

        .hero-title {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 32px;
            font-weight: 700;
            color: var(--text-bright);
            line-height: 1.2;
            letter-spacing: -0.02em;
            margin-bottom: 16px;
        }

        .hero-title span { color: var(--accent-green); }

        .hero-subtitle {
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 13px;
            font-style: italic;
            color: var(--text-secondary);
            max-width: 720px;
            line-height: 1.7;
            border-left: 2px solid var(--border-bright);
            padding-left: 16px;
        }

        /* GRID LAYOUTS */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
        .grid-6 { display: grid; grid-template-columns: repeat(6, 1fr); gap: 16px; }

        /* PANEL */
        .panel {
            background: var(--bg-panel);
            border: 1px solid var(--border-bright);
            border-radius: 20px;
            padding: 28px 32px;
        }

        .panel-header {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-header .accent { color: var(--accent-green); }
        .panel-header .accent-blue { color: var(--accent-blue); }
        .panel-header .accent-amber { color: var(--terminal-amber); }
        .panel-header .accent-purple { color: var(--accent-purple); }

        /* METRIC CARD */
        .metric {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 22px 24px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .metric-label {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 8px;
            font-weight: 600;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--text-secondary);
        }

        .metric-value {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.02em;
            line-height: 1;
        }

        .metric-sub {
            font-size: 10px;
            color: var(--text-dim);
            font-family: 'IBM Plex Mono', monospace;
        }

        .green { color: var(--accent-green); }
        .red { color: var(--accent-red); }
        .blue { color: var(--accent-blue); }
        .amber { color: var(--terminal-amber); }
        .purple { color: var(--accent-purple); }

        /* BORDER ACCENTS */
        .border-green { border-left: 2px solid var(--accent-green) !important; }
        .border-blue { border-left: 2px solid var(--accent-blue) !important; }
        .border-amber { border-left: 2px solid var(--terminal-amber) !important; }
        .border-purple { border-left: 2px solid var(--accent-purple) !important; }
        .border-red { border-left: 2px solid var(--accent-red) !important; }

        /* SECTION SPACING */
        section { margin-bottom: 2px; }
        .section-gap { margin-top: 32px; }

        /* PIPELINE */
        .pipeline {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
        }

        .pipe-step {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 18px 12px;
            text-align: center;
            position: relative;
        }

        .pipe-step::after {
            content: '›';
            position: absolute;
            right: -10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-green);
            font-size: 18px;
            z-index: 1;
        }

        .pipe-step:last-child::after { content: ''; }

        .pipe-icon { font-size: 20px; margin-bottom: 8px; }
        .pipe-title {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            font-weight: 700;
            letter-spacing: 0.1em;
            margin-bottom: 4px;
        }
        .pipe-sub {
            font-size: 9px;
            color: var(--text-dim);
            font-family: 'IBM Plex Mono', monospace;
        }

        /* CODE BLOCK */
        code {
            display: block;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-left: 2px solid var(--accent-green);
            border-radius: 12px;
            padding: 14px 18px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: var(--terminal-green);
            line-height: 1.8;
            margin-top: 10px;
        }

        /* LIST */
        .bl-list { list-style: none; space-y: 8px; }
        .bl-list li {
            display: flex;
            gap: 10px;
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 10px;
            line-height: 1.5;
        }
        .bl-list li .marker {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            font-weight: 700;
            flex-shrink: 0;
            margin-top: 2px;
        }
        .bl-list li strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* CHART CONTAINER - FIXED SIZE */
        .chart-wrap {
            position: relative;
            height: 180px;
            width: 100%;
        }

        .chart-wrap canvas {
            position: absolute !important;
            top: 0; left: 0;
            width: 100% !important;
            height: 100% !important;
        }

        /* TECH STACK */
        .tech-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 32px 20px;
            text-align: center;
        }

        .tech-icon { font-size: 32px; margin-bottom: 14px; display: block; }
        .tech-name {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
            font-weight: 700;
            color: var(--text-primary);
            display: block;
            margin-bottom: 5px;
        }
        .tech-sub {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            color: var(--text-dim);
        }

        /* FOOTER */
        footer {
            margin-top: 32px;
            padding: 20px 24px;
            border-top: 1px solid var(--border-bright);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-text {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 9px;
            color: var(--text-dim);
            letter-spacing: 0.1em;
        }

        /* TEAM CARDS */
        .team-card {
            background: var(--bg-card);
            border: 1px solid var(--border-bright);
            border-top: 2px solid;
            border-radius: 22px;
            padding: 40px 32px;
            text-align: center;
        }

        .team-role {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 8px;
            font-weight: 600;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .team-name {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-bright);
            margin-bottom: 4px;
        }

        .team-id {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 10px;
            color: var(--text-dim);
        }

        /* REGIME BADGE */
        .regime-badge {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 8px;
            font-weight: 700;
            letter-spacing: 0.1em;
            padding: 2px 8px;
            border: 1px solid;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 13px 0;
            border-bottom: 1px solid var(--border);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 11px;
        }

        .stat-row:last-child { border-bottom: none; }
        .stat-row .label { color: var(--text-secondary); }
        .stat-row .val { font-weight: 600; }

        .separator { height: 56px; }
    </style>
</head>
<body onload="startTimer()">

    <!-- TIMER -->
    <div id="timerContainer">
        <i class="fas fa-clock" id="timerIcon" style="color: var(--accent-green); font-size:14px;"></i>
        <span id="displayTime">00:00</span>
    </div>

    <!-- NAV -->
    <nav>
        <div class="nav-left">
            <div class="nav-logo">MUJ</div>
            <div>
                <div style="font-family:'IBM Plex Mono',monospace;font-size:12px;font-weight:700;color:var(--text-bright);letter-spacing:0.05em;">
                    PBL <span style="color:var(--terminal-amber)">2026</span>
                </div>
                <div class="nav-subtitle">Dept. of Computer Science & Engineering</div>
            </div>
        </div>
        <ul class="nav-links">
            <li><a href="#problem">Problem</a></li>
            <li><a href="#methodology">Methodology</a></li>
            <li><a href="#architecture">Architecture</a></li>
            <li><a href="#results">Results</a></li>
            <li><a href="#team">Team</a></li>
        </ul>
    </nav>

    <main>

        <!-- HERO -->
        <section class="hero">
            <div class="hero-tag">
                <span class="live-dot"></span>
                Live Paper Trading &nbsp;|&nbsp; Student ID: 2427030615 &nbsp;|&nbsp; Alpaca Markets
            </div>
            <div class="hero-title">
                Conservative <span>Pairs Trading</span> System<br>with Regime Detection
            </div>
            <p class="hero-subtitle">
                A statistically-validated algorithmic trading system combining adaptive Kalman filtering, machine learning-based regime detection, and mean-reversion techniques to achieve consistent risk-adjusted returns with automated execution via Alpaca Markets API.
            </p>
        </section>

        <div class="separator"></div>

        <!-- PROBLEM + LITERATURE -->
        <section id="problem">
            <div class="section-label">01 — Problem Definition</div>
            <div class="grid-2">
                <div class="panel border-green" style="border-left:2px solid var(--accent-green);">
                    <div class="panel-header"><span class="accent">▸</span> Problem Statement</div>
                    <p style="font-size:12px;color:var(--text-secondary);line-height:1.75;text-align:justify;">
                        Traditional pairs trading strategies often fail during market volatility, leading to significant drawdowns. Existing systems lack adaptive regime detection and proper position sizing, resulting in inconsistent performance and high risk exposure. Our challenge: develop a robust, statistically-validated trading system that adapts to market conditions while maintaining strict risk controls and automated execution.
                    </p>
                </div>
                <div style="display:flex;flex-direction:column;gap:16px;">
                    <div class="panel border-blue" style="border-left:2px solid var(--accent-blue);">
                        <div class="panel-header"><span class="accent-blue">▸</span> Literature Review</div>
                        <p style="font-size:11px;color:var(--text-secondary);line-height:1.7;">
                            Analyzed 15+ research papers on statistical arbitrage, Kalman filtering (Welch & Bishop, 2001), regime-switching models (Hamilton, 1989), and Monte Carlo validation techniques. Identified critical gap: most systems lack real-time regime adaptation and comprehensive statistical validation.
                        </p>
                    </div>
                    <div class="panel border-purple" style="border-left:2px solid var(--accent-purple);">
                        <div class="panel-header"><span class="accent-purple">▸</span> Research Innovation</div>
                        <p style="font-size:11px;color:var(--text-secondary);line-height:1.7;">
                            First system combining: (1) Adaptive Kalman filtering with MAD-based outlier rejection, (2) ML-powered 3-state regime classification (CRISIS / VOLATILE / NORMAL), (3) Gradual position entry at 25% increments, (4) Alternative validation using Profit Factor (1.51) and Mathematical Expectancy, achieving statistically significant results.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <div class="separator"></div>

        <!-- ARCHITECTURE -->
        <section id="architecture">
            <div class="section-label">02 — System Architecture</div>
            <div class="panel">
                <div class="panel-header"><span class="accent">▸</span> End-to-End Data Pipeline &nbsp;·&nbsp; <span style="color:var(--text-dim);">~2-4 second execution latency</span></div>
                <div class="pipeline">
                    <div class="pipe-step">
                        <div class="pipe-icon" style="color:var(--accent-blue)"><i class="fas fa-cloud-download-alt"></i></div>
                        <div class="pipe-title" style="color:var(--accent-blue)">Yahoo Finance</div>
                        <div class="pipe-sub">Historical Data<br>365 days</div>
                    </div>
                    <div class="pipe-step">
                        <div class="pipe-icon" style="color:var(--accent-purple)"><i class="fas fa-filter"></i></div>
                        <div class="pipe-title" style="color:var(--accent-purple)">Kalman Filter</div>
                        <div class="pipe-sub">Spread Calc<br>Adaptive</div>
                    </div>
                    <div class="pipe-step">
                        <div class="pipe-icon" style="color:var(--terminal-amber)"><i class="fas fa-brain"></i></div>
                        <div class="pipe-title" style="color:var(--terminal-amber)">ML Classifier</div>
                        <div class="pipe-sub">Regime<br>Detection</div>
                    </div>
                    <div class="pipe-step">
                        <div class="pipe-icon" style="color:var(--accent-blue)"><i class="fas fa-chart-line"></i></div>
                        <div class="pipe-title" style="color:var(--accent-blue)">Z-Score</div>
                        <div class="pipe-sub">Signal Gen<br>±1.75</div>
                    </div>
                    <div class="pipe-step">
                        <div class="pipe-icon" style="color:var(--terminal-amber)"><i class="fas fa-balance-scale"></i></div>
                        <div class="pipe-title" style="color:var(--terminal-amber)">Position Sizer</div>
                        <div class="pipe-sub">25% Steps<br>Max 4x</div>
                    </div>
                    <div class="pipe-step" style="background:rgba(0,214,143,0.06);border:1px solid rgba(0,214,143,0.3);">
                        <div class="pipe-icon" style="color:var(--accent-green)"><i class="fas fa-rocket"></i></div>
                        <div class="pipe-title" style="color:var(--accent-green)">Alpaca API</div>
                        <div class="pipe-sub">Order Exec<br>Live</div>
                    </div>
                </div>
            </div>
            <div class="grid-4" style="margin-top:16px;">
                <div class="panel border-blue" style="border-left:2px solid var(--accent-blue);">
                    <div class="panel-header"><span class="accent-blue">▸</span> Data Layer</div>
                    <div class="stat-row"><span class="label">Source</span><span class="val blue">yfinance API</span></div>
                    <div class="stat-row"><span class="label">Window</span><span class="val">250 days</span></div>
                    <div class="stat-row"><span class="label">Sync</span><span class="val">Daily 4:05 PM ET</span></div>
                    <div class="stat-row"><span class="label">Index</span><span class="val">SPY</span></div>
                </div>
                <div class="panel border-purple" style="border-left:2px solid var(--accent-purple);">
                    <div class="panel-header"><span class="accent-purple">▸</span> Signal Engine</div>
                    <div class="stat-row"><span class="label">Filter</span><span class="val purple">Kalman</span></div>
                    <div class="stat-row"><span class="label">ML</span><span class="val">Random Forest 300</span></div>
                    <div class="stat-row"><span class="label">Z-Score</span><span class="val">60-day window</span></div>
                    <div class="stat-row"><span class="label">Outliers</span><span class="val">MAD detection</span></div>
                </div>
                <div class="panel border-amber" style="border-left:2px solid var(--terminal-amber);">
                    <div class="panel-header"><span class="accent-amber">▸</span> Risk Manager</div>
                    <div class="stat-row"><span class="label">Max Position</span><span class="val amber">20%</span></div>
                    <div class="stat-row"><span class="label">Max Drawdown</span><span class="val amber">15%</span></div>
                    <div class="stat-row"><span class="label">Entry</span><span class="val">Gradual 25%</span></div>
                    <div class="stat-row"><span class="label">CRISIS</span><span class="val red">Auto-stop</span></div>
                </div>
                <div class="panel" style="border:1px solid rgba(0,214,143,0.3);background:rgba(0,214,143,0.04);">
                    <div class="panel-header"><span class="accent">▸</span> Source Code</div>
                    <p style="font-size:11px;color:var(--text-secondary);margin-bottom:16px;line-height:1.6;">Full implementation open-sourced on GitHub with complete documentation.</p>
                    <a href="https://github.com/Hardikgupta1709/PBL" target="_blank" 
                       style="display:inline-block;font-family:'IBM Plex Mono',monospace;font-size:9px;font-weight:700;letter-spacing:0.15em;text-transform:uppercase;color:var(--accent-green);border:1px solid var(--accent-green);padding:8px 16px;text-decoration:none;transition:all 0.2s;">
                        VIEW CODE →
                    </a>
                </div>
            </div>
        </section>

        <div class="separator"></div>

        <!-- METHODOLOGY -->
        <section id="methodology">
            <div class="section-label">03 — Core Methodology</div>
            <div class="grid-2">
                <div style="display:flex;flex-direction:column;gap:16px;">
                    <div class="panel border-green" style="border-left:2px solid var(--accent-green);">
                        <div class="panel-header"><span class="accent">▸</span> 1. Adaptive Kalman Filter</div>
                        <p style="font-size:11px;color:var(--text-secondary);margin-bottom:10px;line-height:1.6;">
                            Dynamically tracks hedge ratio between SO and SRE with regime-dependent process noise:
                        </p>
                        <code>
                            β(t) = β(t-1) + K(t) × innovation<br>
                            NORMAL: 1e-4 &nbsp;|&nbsp; VOLATILE: 2e-4 &nbsp;|&nbsp; CRISIS: 5e-4
                        </code>
                    </div>
                    <div class="panel border-purple" style="border-left:2px solid var(--accent-purple);">
                        <div class="panel-header"><span class="accent-purple">▸</span> 2. Regime Classification (Random Forest)</div>
                        <p style="font-size:11px;color:var(--text-secondary);margin-bottom:10px;line-height:1.6;">
                            300-tree classifier using 15+ features to classify market state:
                        </p>
                        <ul class="bl-list" style="margin-top:4px;">
                            <li>
                                <span class="marker red">CRISIS</span>
                                <span>Vol &gt;25%, DD &lt;-12% → Trading halted automatically</span>
                            </li>
                            <li>
                                <span class="marker amber">VOLATILE</span>
                                <span>Vol &gt;18% → Entry z-score raised to 2.5</span>
                            </li>
                            <li>
                                <span class="marker green">NORMAL</span>
                                <span>Stable conditions → Entry z-score at 1.75</span>
                            </li>
                        </ul>
                    </div>
                    <div class="panel border-blue" style="border-left:2px solid var(--accent-blue);">
                        <div class="panel-header"><span class="accent-blue">▸</span> 3. Gradual Position Entry</div>
                        <p style="font-size:11px;color:var(--text-secondary);margin-bottom:10px;line-height:1.6;">
                            Prevents all-in exposure. Each signal adds 25% of max position based on confidence score:
                        </p>
                        <code>
                            increment = 0.25 × max_pos × (confidence / 1.5)<br>
                            Max 4 entries → 20% total portfolio exposure
                        </code>
                    </div>
                </div>
                <div style="display:flex;flex-direction:column;gap:16px;">
                    <div class="panel">
                        <div class="panel-header"><span class="accent-blue">▸</span> Z-Score Distribution — 14 Days Live</div>
                        <div class="chart-wrap">
                            <canvas id="zScoreChart"></canvas>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><span class="accent-amber">▸</span> Regime Timeline</div>
                        <div class="chart-wrap">
                            <canvas id="regimeChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="separator"></div>

        <!-- RESULTS -->
        <section id="results">
            <div class="section-label">04 — Performance & Validation</div>
            <div class="grid-2">
                <div class="panel">
                    <div class="panel-header"><span class="accent">▸</span> Backtest Overview (2020–2024)</div>
                    <div class="chart-wrap" style="height:220px;">
                        <canvas id="resultsChart"></canvas>
                    </div>
                    <p style="font-family:'IBM Plex Mono',monospace;font-size:9px;color:var(--text-dim);margin-top:12px;text-align:center;letter-spacing:0.05em;">
                        Backtest: 2020-2024 (250 days) &nbsp;·&nbsp; Paper Trading: Jan 28 – Feb 17, 2026 (14 days live)
                    </p>
                </div>
                <div style="display:flex;flex-direction:column;gap:16px;">
                    <div class="grid-2" style="gap:16px;">
                        <div class="metric border-blue" style="border-left:2px solid var(--accent-blue);">
                            <span class="metric-label">Sharpe Ratio</span>
                            <span class="metric-value blue">0.30</span>
                            <span class="metric-sub">Backtest SO/SRE Pair</span>
                        </div>
                        <div class="metric border-green" style="border-left:2px solid var(--accent-green);">
                            <span class="metric-label">Total Return</span>
                            <span class="metric-value green">+6.24%</span>
                            <span class="metric-sub">4-Year Backtest</span>
                        </div>
                        <div class="metric border-red" style="border-left:2px solid var(--accent-red);">
                            <span class="metric-label">Max Drawdown</span>
                            <span class="metric-value red">-4.79%</span>
                            <span class="metric-sub">Peak-to-Trough</span>
                        </div>
                        <div class="metric border-purple" style="border-left:2px solid var(--accent-purple);">
                            <span class="metric-label">Paper Trading <span class="live-dot" style="display:inline-block;margin-left:4px;"></span></span>
                            <span class="metric-value purple">-0.54%</span>
                            <span class="metric-sub">14 Days · 25 Signals</span>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><span class="accent">▸</span> Validation Summary</div>
                        <div class="stat-row"><span class="label">Monte Carlo</span><span class="val green">1000 runs</span></div>
                        <div class="stat-row"><span class="label">Walk-Forward</span><span class="val">4 folds</span></div>
                        <div class="stat-row"><span class="label">Stress Tests</span><span class="val">COVID-19 · 2022 Bear</span></div>
                        <div class="stat-row"><span class="label">Profit Factor</span><span class="val green">1.51</span></div>
                        <div class="stat-row"><span class="label">Deployment</span><span class="val green">Alpaca · Daily Exec</span></div>
                    </div>
                </div>
            </div>

            <div class="grid-4" style="margin-top:16px;">
                <div class="metric border-blue" style="border-left:2px solid var(--accent-blue);">
                    <span class="metric-label">Total Signals</span>
                    <span class="metric-value blue" style="font-size:36px;">25</span>
                    <span class="metric-sub">14 trading days</span>
                </div>
                <div class="metric border-green" style="border-left:2px solid var(--accent-green);">
                    <span class="metric-label">Z-Score Peak</span>
                    <span class="metric-value green" style="font-size:36px;">1.35</span>
                    <span class="metric-sub">Below 1.75 entry threshold</span>
                </div>
                <div class="metric border-amber" style="border-left:2px solid var(--terminal-amber);">
                    <span class="metric-label">Trades Executed</span>
                    <span class="metric-value amber" style="font-size:36px;">0</span>
                    <span class="metric-sub">Waiting for valid setup</span>
                </div>
                <div class="metric border-purple" style="border-left:2px solid var(--accent-purple);">
                    <span class="metric-label">Win Rate Target</span>
                    <span class="metric-value purple" style="font-size:36px;">50%</span>
                    <span class="metric-sub">Profit Factor: 1.51</span>
                </div>
            </div>
        </section>

        <div class="separator"></div>

        <!-- CHALLENGES / SOLUTIONS -->
        <div class="grid-2">
            <div class="panel border-red" style="border-left:2px solid var(--accent-red);">
                <div class="panel-header"><span style="color:var(--accent-red)">▸</span> Challenges Faced</div>
                <ul class="bl-list">
                    <li>
                        <span class="marker red">01</span>
                        <span><strong>Position Sizing Bug:</strong> Initial all-in implementation caused 87% portfolio exposure, resulting in -0.54% loss before fix.</span>
                    </li>
                    <li>
                        <span class="marker red">02</span>
                        <span><strong>Regime Over-Classification:</strong> 79% CRISIS classification limited trading opportunities; required threshold retuning.</span>
                    </li>
                    <li>
                        <span class="marker red">03</span>
                        <span><strong>Validation Failure:</strong> First Monte Carlo p-value = 1.0 due to low win-rate design; pivoted to Profit Factor metrics.</span>
                    </li>
                </ul>
            </div>
            <div class="panel border-green" style="border-left:2px solid var(--accent-green);">
                <div class="panel-header"><span class="accent">▸</span> Solutions Implemented</div>
                <ul class="bl-list">
                    <li>
                        <span class="marker green">01</span>
                        <span><strong>Gradual Entry System:</strong> 25% position increments with signal strength multiplier (confidence/1.5), max 4 entries.</span>
                    </li>
                    <li>
                        <span class="marker green">02</span>
                        <span><strong>Relaxed Thresholds:</strong> Entry z-score reduced from 2.5 → 1.75 for NORMAL regime, increasing trade frequency.</span>
                    </li>
                    <li>
                        <span class="marker green">03</span>
                        <span><strong>Alternative Validation:</strong> Profit Factor (1.51) + Mathematical Expectancy instead of win-rate metrics for low-frequency strategies.</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="separator"></div>

        <!-- TECH STACK -->
        <section>
            <div class="section-label">05 — Technology Stack</div>
            <div class="panel">
                <div class="panel-header"><span class="accent">▸</span> Core Technologies</div>
                <div class="grid-4" style="gap:16px;">
                    <div class="tech-item">
                        <i class="fab fa-python tech-icon" style="color:var(--accent-blue);"></i>
                        <span class="tech-name">Python 3.11</span>
                        <span class="tech-sub">Core Language</span>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-brain tech-icon" style="color:var(--accent-purple);"></i>
                        <span class="tech-name">Scikit-learn</span>
                        <span class="tech-sub">ML Framework</span>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-chart-line tech-icon" style="color:var(--accent-green);"></i>
                        <span class="tech-name">Alpaca API</span>
                        <span class="tech-sub">Live Broker</span>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-database tech-icon" style="color:var(--terminal-amber);"></i>
                        <span class="tech-name">Pandas / NumPy</span>
                        <span class="tech-sub">Data Processing</span>
                    </div>
                </div>
                <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--border);font-family:'IBM Plex Mono',monospace;font-size:9px;color:var(--text-dim);letter-spacing:0.1em;">
                    ADDITIONAL &nbsp;·&nbsp; yfinance &nbsp;·&nbsp; SciPy &nbsp;·&nbsp; Matplotlib &nbsp;·&nbsp; Seaborn &nbsp;·&nbsp; statsmodels
                </div>
            </div>
        </section>

        <div class="separator"></div>

        <!-- TEAM -->
        <section id="team">
            <div class="section-label">06 — Academic Credits</div>
            <div class="grid-2">
                <div class="team-card" style="border-top-color:var(--accent-green);">
                    <div class="team-role green">Project Guide</div>
                    <div class="team-name">Prof. Dr. Rishi Gupta</div>
                    <div class="team-id">Associate Professor, CSE — Manipal University Jaipur</div>
                </div>
                <div class="team-card" style="border-top-color:var(--accent-blue);">
                    <div class="team-role blue">Developer</div>
                    <div class="team-name">Hardik Gupta</div>
                    <div class="team-id">Student ID: 2427030615</div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <div class="footer-text">Manipal University Jaipur · Department of Computer Science & Engineering</div>
        <div class="footer-text">PBL 2026 · Conservative Pairs Trading System</div>
    </footer>

    <script>
        // TIMER
        let sec = 0, timer = null;
        function startTimer() {
            timer = setInterval(() => {
                sec++;
                let m = Math.floor(sec / 60), s = sec % 60;
                document.getElementById('displayTime').innerText =
                    `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
                const c = document.getElementById('timerContainer');
                if (sec >= 480 && sec < 600) {
                    c.classList.add('timer-warning');
                } else if (sec >= 600) {
                    clearInterval(timer);
                    c.classList.remove('timer-warning');
                    c.classList.add('timer-stop');
                    document.getElementById('displayTime').innerText = "10:00";
                }
            }, 1000);
        }

        // CHART DEFAULTS
        Chart.defaults.font.family = "'IBM Plex Mono', monospace";
        Chart.defaults.font.size = 9;
        Chart.defaults.color = '#3d4f6b';

        const gridColor = '#1a2133';

        // Z-SCORE CHART
        new Chart(document.getElementById('zScoreChart'), {
            type: 'line',
            data: {
                labels: ['Jan 29','Jan 30','Jan 31','Feb 1','Feb 2','Feb 3','Feb 4','Feb 5','Feb 8','Feb 9','Feb 10','Feb 11','Feb 12','Feb 17'],
                datasets: [{
                    label: 'Z-Score',
                    data: [1.20, 1.27, 1.21, 1.21, 1.21, 0.94, 1.31, 1.35, 0.58, 0.58, -1.14, -1.15, -1.29, -0.58],
                    borderColor: '#00d68f',
                    backgroundColor: 'rgba(0,214,143,0.08)',
                    tension: 0.3,
                    fill: true,
                    pointRadius: 2,
                    pointBackgroundColor: '#00d68f',
                    borderWidth: 1.5
                }, {
                    label: 'Entry Threshold',
                    data: Array(14).fill(1.75),
                    borderColor: '#ff4757',
                    borderDash: [4, 4],
                    pointRadius: 0,
                    borderWidth: 1
                }, {
                    label: 'Lower Threshold',
                    data: Array(14).fill(-1.75),
                    borderColor: '#ff4757',
                    borderDash: [4, 4],
                    pointRadius: 0,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: false,
                plugins: {
                    legend: {
                        labels: { color: '#6b7fa3', font: { size: 9 }, boxWidth: 10 }
                    }
                },
                scales: {
                    y: {
                        grid: { color: gridColor },
                        ticks: { color: '#3d4f6b', font: { size: 8 } },
                        border: { color: '#1e2433' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#3d4f6b', font: { size: 7 }, maxRotation: 45 },
                        border: { color: '#1e2433' }
                    }
                }
            }
        });

        // REGIME CHART
        new Chart(document.getElementById('regimeChart'), {
            type: 'bar',
            data: {
                labels: ['Jan 29 – Feb 13', 'Feb 15 – 17'],
                datasets: [{
                    label: 'UNKNOWN',
                    data: [24, 0],
                    backgroundColor: '#252d3d',
                    borderColor: '#3d4f6b',
                    borderWidth: 1
                }, {
                    label: 'CRISIS',
                    data: [0, 1],
                    backgroundColor: 'rgba(255,71,87,0.7)',
                    borderColor: '#ff4757',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: false,
                plugins: {
                    legend: {
                        labels: { color: '#6b7fa3', font: { size: 9 }, boxWidth: 10 }
                    }
                },
                scales: {
                    y: {
                        stacked: true,
                        grid: { color: gridColor },
                        ticks: { color: '#3d4f6b', font: { size: 8 } },
                        border: { color: '#1e2433' }
                    },
                    x: {
                        stacked: true,
                        grid: { display: false },
                        ticks: { color: '#3d4f6b', font: { size: 8 } },
                        border: { color: '#1e2433' }
                    }
                }
            }
        });

        // RESULTS CHART
        new Chart(document.getElementById('resultsChart'), {
            type: 'bar',
            data: {
                labels: ['Backtest Return', 'Paper Trading', 'Max Drawdown', 'Sharpe Ratio'],
                datasets: [{
                    data: [6.24, -0.54, -4.79, 0.30],
                    backgroundColor: [
                        'rgba(0,214,143,0.7)',
                        'rgba(168,85,247,0.7)',
                        'rgba(255,71,87,0.7)',
                        'rgba(74,158,255,0.7)'
                    ],
                    borderColor: ['#00d68f', '#a855f7', '#ff4757', '#4a9eff'],
                    borderWidth: 1,
                    borderRadius: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: {
                        grid: { color: gridColor },
                        ticks: { color: '#3d4f6b', font: { size: 8 } },
                        border: { color: '#1e2433' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#6b7fa3', font: { size: 9 } },
                        border: { color: '#1e2433' }
                    }
                }
            }
        });
    </script>
</body>
</html>
